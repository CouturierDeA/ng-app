<div class="todo-page">
  <div class="todo-table">
    <TodoSearch [search$]="search$"></TodoSearch>
    <TodoList
      (onUpdate)="showUpdateForm($event)"
      (onDelete)="deleteTodo($event)"
      [todoList$]="todoList$"
      [controlsDisabled]="onEdit"
      style="margin: 1rem 0; display: block">
    </TodoList>
  </div>
  <TodoForm class="todo-page-form todo-update-form"
            *ngIf="isUpdateActivated && !!newTodo"
            [todo]="newTodo"
            (submitEvent)="updateTodo($event)"
            (cancelEvent)="cancelSubmit()"
  >
  </TodoForm>
  <TodoForm class="todo-page-form todo-add-form"
            *ngIf="isAddActivated && !!newTodo"
            [todo]="newTodo"
            (submitEvent)="addTodo($event)"
            (cancelEvent)="cancelSubmit()"
  >
  </TodoForm>
  <button *ngIf="!onEdit" class="todo-item-add"
          (click)="showAddForm()">add
  </button>
</div>
